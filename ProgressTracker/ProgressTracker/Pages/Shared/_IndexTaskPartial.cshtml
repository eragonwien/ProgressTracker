@model ProgressTracker.Models.Pttask
@using SNGCommon.Resources
@{
   string modalId = string.Format("modal-p{0}-o{1}", Model.PtprojectId, Model.Id);
}
<div>
   <form method="post">
      <input type="hidden" asp-for="Id" />
      <label>
         <input type="checkbox" asp-for="Completed" onchange="onCheckboxChanged(this)" />
         <span class="black-text @(Model.Completed ? "line-through" : "")">@Model.Description</span>
      </label>
      <input type="submit" asp-page="task" asp-page-handler="status" class="ajax-submit" id="submit-checkbox-change-button" hidden />
      <a href="#@modalId" class="secondary-content waves-effect waves-light btn-flat modal-trigger"><i class="material-icons">edit</i></a>
   </form>

   <div id="@modalId" class="modal bottom-sheet">
      <form method="post">
         <input type="hidden" asp-for="Id" />
         <input type="hidden" asp-for="PtprojectId" />
         <div class="modal-content">
            <div class="input-field">
               <input asp-for="Description" class="validate" />
               <label asp-for="Description"></label>
               <span asp-validation-for="Description" class="helper-text red-text"></span>
            </div>
         </div>
         <div class="modal-footer">
            <button type="submit" asp-page="task" asp-page-handler="description" asp-route-returnurl="@Context.Request.Path" class="btn black waves-effect waves-light">
               <i class="material-icons left">save</i>
               <span class="white-text">@Translation.SaveChanges</span>
            </button>
         </div>
      </form>
   </div>
</div>
